<!DOCTYPE html>
<html lang="en">
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="./sketch.js"></script>
	<link href="./files/main.css" type="text/css" rel="stylesheet">

      <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="crossorigin="">
      </script>
      <script src="./L.KML.js">
      </script>

</head>
<body>
  <main id="main" class="main">
    <div class="microsite">
      <div id="3">
        <div class="air-quality">
          <div class="container">
            <div class="section--white">
              <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12">
                  <div id="box-hotspots" data-box="hotspots" class="tab__item2 is-active">
                    <div class="section--white">
                      <h2 class="title" style="text-align:center; text-transform:uppercase;">Hotspots</h2>
                      <div class="row">
                        <div class="col-xs-12 col-sm-6 col-md-6">
													<div id="canvasDiv" style="width: 100%; height: 400px; overflow: hidden">
                            <div id="canvas" style="width: 800px; height: 800px"></div>
                          </div>
													<script src="hotspot.js"></script>
													<script>
													var mySketch = defineSketch(
														"data/hotspot.kml",
														"data/boundary.kml",
														"data/wind.kml",
														"data/satellite.png",
														"data/wind.png",
														parseFloat(jQuery("#canvas").width()),
														parseFloat(jQuery("#canvas").height())
													);
													let myp5 = new p5(mySketch, "canvas");
													jQuery(document).ready(function () {
														checkboxes();
														pannable();
														jQuery("#canvasDiv").scrollTop(280);
														jQuery("#canvasDiv").scrollLeft(60);
													});
													</script>
													<p class="smaller"><em>The hotspots are derived from satellite data and may be affected by cloud cover and the satellite coverage</em></p>
												</div>
												<div class="col-xs-12 col-sm-6 col-md-6">
													<div class="hotspot">
														<h3 class="title">Overlay</h3>
														<div class="overlay-checkbox">
															<input id="overlay1" onclick="showMarkers()" name="overlay1" type="checkbox">
															<label for="overlay1">2500ft wind</label>
														</div>
														<div class="overlay-checkbox">
															<input id="overlay2" onclick="toggleOverlay()" name="overlay2" type="checkbox">
															<label for="overlay2">Satellite Image (4.30pm)</label>
														</div>
														<h3 class="title">Legend</h3>
														<div class="legend">
															<div class="legend__item">
																<div class="image"><img alt="dense haze legend" src="./files/legend-dense-haze.jpg"></div>
																<div class="text">Dense Haze</div>
															</div>
															<div class="legend__item">
																<div class="image"><img alt="moderate haze legend" src="./files/legend-moderate-haze.jpg"></div>
																<div class="text">Moderate Haze</div>
															</div>
															<div class="legend__item">
																<div class="image"><img alt="hotspot legend" src="./files/legend-hotspot.jpg"></div>
																<div class="text">Hotspot</div>
															</div>
															<div class="legend__item">
																<div class="image"><img alt="wind legend" src="./files/legend-wind.jpg"></div>
																<div class="text">2500ft wind</div>
															</div>
															<div class="legend__item">
																<div class="image image--long"><img alt="wind speed legend" src="./files/legend-wind-speed.jpg"></div>
																<div class="text">Wind speed (km/h)</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
</body>
</html>