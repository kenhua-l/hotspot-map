<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
      integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
      integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
      crossorigin=""
    ></script>
    <script src="./L.KML.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.sound.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <style></style>
    <title>Haze Map</title>
  </head>
  <body>
    <!-- <div style="width: 100vw; height: 100vh" id="map"></div> -->
    <!-- <div style="background: url(./map.png); width:729px ; height: 609px">
      <div id="markers"></div>
    </div> -->
    <div>
      <button onclick="toggleHotspot()">Hotspot</button>
      <button onclick="toggleBoundary()">Boundary</button>
      <button onclick="toggleWind()">Wind</button>
      <button onclick="toggleSatellite()">Satellite</button>
    </div>
    <br />
    <div id="canvasDiv" style="width: 100%">
      <div id="canvas" class="small" style="width: 600px; height: 600px">
        <script src="p5.js"></script>
      </div>
    </div>
    <script>
      // console.log(document.getElementById("markers"));
      // // Make basemap
      // const map = new L.Map("map", {
      //   center: new L.LatLng(58.4, 43.0),
      //   zoom: 13
      // });
      // const osm = new L.TileLayer(
      //   "http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
      // );

      // map.addLayer(osm);
      // // Load kml file
      // fetch("./haze-hotspot.kml")
      //   .then(res => res.text())
      //   .then(kmltext => {
      //     // Create new kml overlay
      //     const parser = new DOMParser();
      //     const kml = parser.parseFromString(kmltext, "text/xml");
      //     console.log(kml);
      //     const track = new L.KML(kml);
      //     console.log(track);
      //     var myIcon = L.icon({
      //       iconUrl:
      //         "https://storage.googleapis.com/support-kms-prod/SNP_2752125_en_v0",
      //       iconSize: [10, 10],
      //       iconAnchor: [5, 5]
      //     });
      //     for (var i = 0; i < track.latLngs.length; i++) {
      //       console.log(track.latLngs[i].lat);
      //       console.log(track.latLngs[i].lng);
      //       L.marker([track.latLngs[i].lat, track.latLngs[i].lng], {
      //         icon: myIcon
      //       }).addTo(map);
      //     }
      //   });

      // fetch("./haze-boundary.kml")
      //   .then(res => res.text())
      //   .then(kmltext => {
      //     // Create new kml overlay
      //     const parser = new DOMParser();
      //     const kml = parser.parseFromString(kmltext, "text/xml");
      //     console.log(kml);
      //     const track = new L.KML(kml);
      //     map.addLayer(track);

      //     // Adjust map to show the kml
      //     const bounds = track.getBounds();
      //     map.fitBounds(bounds);
      //   });

      // WIND
      // fetch("./wind.kml")
      //   .then(res => res.text())
      //   .then(kmltext => {
      //     // Create new kml overlay
      //     const parser = new DOMParser();
      //     const kml = parser.parseFromString(kmltext, "text/xml");
      //     console.log(kml);
      //     const track = new L.KML(kml);
      //     map.addLayer(track);

      //     // Adjust map to show the kml
      //     // const bounds = track.getBounds();
      //     // map.fitBounds(bounds);
      //   });
    </script>
  </body>
</html>
